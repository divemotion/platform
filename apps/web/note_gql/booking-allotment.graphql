query BookingAllotment {
  trip(where: {id: {_eq: "981f374d-fc25-49b7-aba4-e43c5eff8b66"}}) {
    name_th
    name_en
    start_date
    end_date
    main_image_file_name
    organizerByOrganizer {
      name_th
      name_en
    }
    boatByBoat {
      name_th
      name_en
    }
    allotments(order_by: {price: asc}, where: {remaining_seat: {_gt: "0"}}, distinct_on: price) {
      price
      discount_price
      foreigner_price
      foreigner_discount_price
      cabinByCabin {
        id
        main_image_file_name
        name_th
        name_en
        allotments(where: {trip: {_eq: "981f374d-fc25-49b7-aba4-e43c5eff8b66"}, remaining_seat: {_gt: "0"}}) {
          id
          max_guest_capacity
          remaining_seat
        }
      }
    }
  }
}
